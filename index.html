<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="Smart Agriculture Weather Alert System" />
    <title>AgroAlert - Weather for Farmers</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.5.0/css/all.min.css"
    />
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
      body {
        font-family: "Poppins", system-ui, -apple-system, "Segoe UI", Roboto,
          sans-serif;
      }
      .loading {
        animation: spin 1s linear infinite;
      }
      @keyframes spin {
        from {
          transform: rotate(0deg);
        }
        to {
          transform: rotate(360deg);
        }
      }
      .stat-card {
        transition: all 0.3s ease;
      }
      .stat-card:hover {
        transform: translateY(-4px);
      }
    </style>
  </head>
  <body class="bg-gray-50">
    <!-- Header -->
    <header
      class="bg-gradient-to-r from-emerald-600 to-emerald-700 text-white sticky top-0 z-50 shadow-md"
    >
      <div class="max-w-6xl mx-auto px-6 py-4 flex items-center gap-3">
        <i class="fas fa-leaf text-3xl"></i>
        <div>
          <h1 class="text-3xl font-bold hover:text-green-200 transition-colors">
            AgroAlert
          </h1>
          <p class="text-sm text-green-100">Smart Weather for Farmers</p>
        </div>
      </div>
    </header>

    <!-- Main Content -->
    <main class="max-w-6xl mx-auto px-6 py-10 space-y-10">
      <!-- Search Section -->
      <section
        class="bg-white rounded-2xl shadow-lg p-8 border-t-4 border-green-600"
      >
        <h2 class="text-3xl font-bold text-gray-800 mb-2">
          <i class="fas fa-map-marker-alt text-green-600 mr-2"></i>Get Weather
          Alerts
        </h2>
        <p class="text-gray-600 mb-6">
          Enter your city to get real-time weather and farming tips
        </p>
        <form id="searchForm" class="flex flex-col sm:flex-row gap-4">
          <input
            type="text"
            id="cityInput"
            placeholder="e.g., Delhi, Mumbai, Bangalore"
            required
            class="flex-1 px-4 py-3 rounded-lg border-2 border-gray-300 focus:border-green-600 focus:ring-1 focus:ring-green-500 focus:outline-none transition"
          />
          <button
            type="submit"
            class="bg-emerald-600 hover:bg-emerald-700 text-white font-bold py-3 px-8 rounded-lg transition transform hover:scale-105 whitespace-nowrap"
          >
            <i class="fas fa-search mr-2"></i>Search
          </button>
        </form>
      </section>

      <!-- Loading Spinner -->
      <div id="loadingSpinner" class="hidden text-center py-12">
        <i class="fas fa-spinner text-5xl text-green-600 loading"></i>
        <p class="text-gray-600 mt-4 text-lg">Loading weather data...</p>
      </div>

      <!-- Error Message -->
      <div
        id="errorMessage"
        class="hidden bg-red-50 border-2 border-red-300 rounded-xl p-6"
      >
        <p class="text-red-700 flex items-center gap-2">
          <i class="fas fa-exclamation-circle"></i>
          <span id="errorText">City not found. Please try again.</span>
        </p>
      </div>

      <!-- Weather Information -->
      <section id="weatherInfo" class="hidden space-y-8">
        <!-- Current Weather -->
        <div
          class="bg-white rounded-2xl shadow-lg p-8 border-t-4 border-green-600 grid grid-cols-1 md:grid-cols-2 gap-8"
        >
          <!-- Left -->
          <div>
            <h2 class="text-4xl font-bold text-gray-800 mb-2">
              <span id="cityName">--</span>
            </h2>
            <p class="text-gray-600 mb-6">
              <i class="fas fa-calendar-alt mr-2"></i
              ><span id="currentDate">--</span>
            </p>

            <div
              class="bg-gradient-to-br from-orange-50 to-red-50 rounded-xl p-5 border border-orange-200 mb-4 hover:shadow-md transition"
            >
              <p class="text-gray-600 text-sm font-semibold">Temperature</p>
              <p
                class="text-5xl font-bold text-orange-600 mt-2"
                id="temperature"
              >
                --°C
              </p>
              <p class="text-sm text-gray-600 mt-1" id="feelsLike">
                Feels like --°C
              </p>
            </div>

            <div
              class="bg-gradient-to-br from-purple-50 to-pink-50 rounded-xl p-5 border border-purple-200 hover:shadow-md transition"
            >
              <p class="text-gray-600 text-sm font-semibold">Condition</p>
              <p
                class="text-2xl font-bold text-purple-600 mt-2 capitalize"
                id="weatherCondition"
              >
                --
              </p>
            </div>
          </div>

          <!-- Right Metrics -->
          <div class="grid grid-cols-2 gap-4">
            <div
              class="stat-card bg-blue-50 rounded-xl p-5 border border-blue-200 hover:shadow-md"
            >
              <div class="flex items-center gap-2 mb-2">
                <i class="fas fa-droplet text-xl text-blue-600"></i>
                <p class="text-xs font-bold text-blue-600">HUMIDITY</p>
              </div>
              <p class="text-3xl font-bold text-blue-700" id="humidity">--%</p>
            </div>
            <div
              class="stat-card bg-cyan-50 rounded-xl p-5 border border-cyan-200 hover:shadow-md"
            >
              <div class="flex items-center gap-2 mb-2">
                <i class="fas fa-wind text-xl text-cyan-600"></i>
                <p class="text-xs font-bold text-cyan-600">WIND</p>
              </div>
              <p class="text-3xl font-bold text-cyan-700" id="windSpeed">
                -- m/s
              </p>
            </div>
            <div
              class="stat-card bg-purple-50 rounded-xl p-5 border border-purple-200 hover:shadow-md"
            >
              <div class="flex items-center gap-2 mb-2">
                <i class="fas fa-gauge text-xl text-purple-600"></i>
                <p class="text-xs font-bold text-purple-600">PRESSURE</p>
              </div>
              <p class="text-3xl font-bold text-purple-700" id="pressure">
                -- mb
              </p>
            </div>
            <div
              class="stat-card bg-green-50 rounded-xl p-5 border border-green-200 hover:shadow-md"
            >
              <div class="flex items-center gap-2 mb-2">
                <i class="fas fa-eye text-xl text-green-600"></i>
                <p class="text-xs font-bold text-green-600">VISIBILITY</p>
              </div>
              <p class="text-3xl font-bold text-green-700" id="visibility">
                -- km
              </p>
            </div>
            <div
              class="stat-card bg-gray-50 rounded-xl p-5 border border-gray-200 hover:shadow-md"
            >
              <div class="flex items-center gap-2 mb-2">
                <i class="fas fa-cloud text-xl text-gray-600"></i>
                <p class="text-xs font-bold text-gray-600">CLOUDS</p>
              </div>
              <p class="text-3xl font-bold text-gray-700" id="cloudCover">
                --%
              </p>
            </div>
            <div
              class="stat-card bg-teal-50 rounded-xl p-5 border border-teal-200 hover:shadow-md"
            >
              <div class="flex items-center gap-2 mb-2">
                <i class="fas fa-cloud-rain text-xl text-teal-600"></i>
                <p class="text-xs font-bold text-teal-600">RAIN</p>
              </div>
              <p class="text-3xl font-bold text-teal-700" id="rainChance">
                --%
              </p>
            </div>
          </div>
        </div>

        <!-- Charts Section -->
        <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
          <!-- Temperature Trend Chart (12h) -->
          <div
            class="bg-white rounded-2xl shadow-lg p-6 border-t-4 border-orange-600 hover:shadow-xl transition"
          >
            <h3 class="text-2xl font-bold text-gray-800 mb-4">
              <i class="fas fa-chart-line text-orange-600 mr-2"></i>Temperature
              Trend (12h)
            </h3>
            <div style="height: 280px"><canvas id="tempChart"></canvas></div>
          </div>

          <!-- 5-Day Forecast -->
          <divmd:grid-cols-4 
            class="bg-white rounded-2xl shadow-lg p-6 border-t-4 border-blue-600 hover:shadow-xl transition"
          >
            <h3 class="text-2xl font-bold text-gray-800 mb-4">
              <i class="fas fa-calendar-days text-blue-600 mr-2"></i>5-Day
              Forecast
            </h3>
            <div
              class="grid grid-cols-2 md:grid-cols-4 gap-4"
              id="forecastGrid"
            >
              <div class="bg-gray-50 rounded-lg p-4 text-center">
                Loading...
              </div>
            </div>
          </div>
        </div>

        <!-- Alerts and Precautions -->
        <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
          <!-- Farming Alerts -->
          <div
            class="bg-white rounded-2xl shadow-lg p-6 border-t-4 border-red-600 hover:shadow-xl transition"
          >
            <h3 class="text-2xl font-bold text-gray-800 mb-4">
              <i class="fas fa-exclamation-triangle text-red-600 mr-2"></i
              >Alerts
            </h3>
            <ul id="cautionList" class="space-y-3">
              <li
                class="flex gap-3 bg-gray-50 p-3 rounded-lg border border-gray-200"
              >
                <span class="text-gray-600">Loading alerts...</span>
              </li>
            </ul>
          </div>

          <!-- Crop-Specific Precautions -->
          <div
            class="bg-white rounded-2xl shadow-lg p-6 border-t-4 border-green-600 hover:shadow-xl transition"
          >
            <h3 class="text-2xl font-bold text-gray-800 mb-4">
              <i class="fas fa-lightbulb text-green-600 mr-2"></i>Crop-Specific
              Precautions
            </h3>
            <ul id="adviceList" class="space-y-3">
              <li
                class="flex gap-3 bg-gray-50 p-3 rounded-lg border border-gray-200"
              >
                <span class="text-gray-600">Loading precautions...</span>
              </li>
            </ul>
          </div>
        </div>
      </section>

      <!-- Info Cards (Always Visible) -->
      <section class="grid grid-cols-1 md:grid-cols-3 gap-6">
        <div
          class="bg-white rounded-2xl shadow-lg p-6 border-t-4 border-green-600 hover:shadow-xl transition text-center"
        >
          <i class="fas fa-bell text-3xl text-green-600 mb-3 block mx-auto"></i>
          <h3 class="text-xl font-bold text-gray-800 mb-2">Real-Time Alerts</h3>
          <p class="text-gray-600">
            Instant weather alerts for frost, rainfall, and high winds.
          </p>
        </div>
        <div
          class="bg-white rounded-2xl shadow-lg p-6 border-t-4 border-blue-600 hover:shadow-xl transition text-center"
        >
          <i class="fas fa-leaf text-3xl text-blue-600 mb-3 block mx-auto"></i>
          <h3 class="text-xl font-bold text-gray-800 mb-2">Smart Advice</h3>
          <p class="text-gray-600">
            Personalized farming recommendations based on weather.
          </p>
        </div>
        <div
          class="bg-white rounded-2xl shadow-lg p-6 border-t-4 border-purple-600 hover:shadow-xl transition text-center"
        >
          <i
            class="fas fa-chart-line text-3xl text-purple-600 mb-3 block mx-auto"
          ></i>
          <h3 class="text-xl font-bold text-gray-800 mb-2">Data Analytics</h3>
          <p class="text-gray-600">
            Visual insights with detailed weather charts and trends.
          </p>
        </div>
      </section>
    </main>

    <!-- Footer -->
    <footer class="bg-gray-800 text-gray-300 text-center py-10 mt-16">
      <p class="mb-2">
        <i class="fas fa-leaf text-green-500 mr-2"></i
        ><strong>AgroAlert</strong> - Smart Weather for Farmers
      </p>
      <p class="text-sm text-gray-400">Powered by OpenWeather API</p>
    </footer>

    <script src="./js/weather-api.js"></script>
  </body>
</html>